var csvLink="https://docs.google.com/spreadsheets/d/e/2PACX-1vSpgPFjsVbVak8MuXxOYEV8ezmsXC38Ki13xHcGwVt3YbFRoRSKwiRemMk9lCGOKRsDCrlYtD2ePg7V/pub?output=csv",request=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),loading=!0;function make_date_friendly(e){var t=new Date,n=(t.getMonth()+1).toString()+"/"+t.getDate().toString()+"/"+t.getFullYear().toString();t.setDate(t.getDate()-1);var s=(t.getMonth()+1).toString()+"/"+t.getDate().toString()+"/"+t.getFullYear().toString();return e==n?"Today":e==s?"Yesterday":e}function addCanteen(e,t,n){var s=document.getElementsByTagName("section");for(var a in s)"object"==typeof s[a]&&(s[a].innerHTML+="<div class=canteen-card><span class=canteen-name>"+t+"</span><br /><span class=timestamp>"+e+"</span><br /><br/><span class=menu>"+n[a]+"</span></div>")}function move(){var e=(new Date).getHours(),t=0,n=document.getElementsByTagName("section");22<=e||e<10||(t=10<=e&&e<14?1:14<=e&&e<18?2:3);var s="-"+t.toString()+"00vw";n[0].style["margin-left"]=s,n[1].style["margin-left"]=s,n[2].style["margin-left"]=s,n[3].style["margin-left"]=s}function setToReload(){var e=(new Date).getHours(),t=0,t=e<9?60*(9-e)*60*1e3:e<14?60*(14-e)*60*1e3:e<19?60*(19-e)*60*1e3:60*(24-e+9)*60*1e3;setTimeout(function(){history.go()},t)}request.open("GET",csvLink,!0),request.send(),request.onload=function(e){if(4===request.readyState)if(200===request.status){for(var t=0,n=request.responseText.split("\r").slice(1);t<n.length;t++){var s=n[t].split('","'),a=s[0].split(",")[0].replace('"',"").replace("\n","").split(" ");addCanteen(a=make_date_friendly(a[0])+" "+a[1],s[0].split(",")[1].replace('"',""),[String(s[0].split(",").slice(2)).replace('"',""),s[1].replace('"',""),s[2].replace('"',""),s[3].replace('"',"")])}move(),setToReload()}else console.error(request.statusText)};